name: Run Bash Script Manually

on:
  push:
    branches:
      - master  # 当代码提交到 master 分支时触发
  workflow_dispatch:  # 手动触发工作流

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3  # 拉取仓库

    - name: Give execute permission to script
      run: chmod +x res/update-chnlist.sh  # 给脚本执行权限

    - name: Run bash script
      run: bash res/update-chnlist.sh  # 运行脚本
